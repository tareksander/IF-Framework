<!DOCTYPE html><html class="default" lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>@if-framework/framework</title><meta name="description" content="Documentation for @if-framework/framework"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">@if-framework/framework</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h2>@if-framework/framework</h2></div><div class="tsd-panel tsd-typography"><a id="md:if-framework" class="tsd-anchor"></a><h1><a href="#md:if-framework">IF Framework</a></h1><p>A modular framework for developing interactive fiction with modern <a href="https://www.typescriptlang.org/">Typescript</a> and <a href="https://svelte.dev/">Svelte</a>.</p>
<a id="md:roadmap" class="tsd-anchor"></a><h2><a href="#md:roadmap">Roadmap</a></h2><ul>
<li><input disabled="" type="checkbox"> Choice-based games<ul>
<li><input checked="" disabled="" type="checkbox"> Default UI with a closable sidebar and custom sidebar elements, headers and footers.</li>
<li><input checked="" disabled="" type="checkbox"> Passage generator from Markdown files.</li>
<li><input checked="" disabled="" type="checkbox"> Passage aggregator, collecting all passages from a folder for easy adding to the engine.</li>
<li><input disabled="" type="checkbox"> Save/Load UI</li>
<li><input disabled="" type="checkbox"> Yeoman project template</li>
</ul>
</li>
<li><input disabled="" type="checkbox"> Common Functionality<ul>
<li><input checked="" disabled="" type="checkbox"> Installable as PWAs</li>
<li><input checked="" disabled="" type="checkbox"> Offline capable</li>
<li><input checked="" disabled="" type="checkbox"> Extensible save system</li>
<li><input checked="" disabled="" type="checkbox"> Update notifications</li>
<li><input disabled="" type="checkbox"> Packaging as a native app via Tauri</li>
</ul>
</li>
<li><input disabled="" type="checkbox"> Parser games: If I find the time and motivation to learn about &amp; make them.</li>
</ul>
<a id="md:tutorial" class="tsd-anchor"></a><h2><a href="#md:tutorial">Tutorial</a></h2><p>For a commented example, see the <a href="https://github.com/tareksander/IF-Framework/tree/main/example">example project</a>.</p>
<a id="md:concepts" class="tsd-anchor"></a><h2><a href="#md:concepts">Concepts</a></h2><a id="md:choice-based" class="tsd-anchor"></a><h3><a href="#md:choice-based">Choice-Based</a></h3><a id="md:passages-and-history" class="tsd-anchor"></a><h4><a href="#md:passages-and-history">Passages and History</a></h4><p>If you&#39;re coming from Twine, the passage and history system should feel familiar.</p>
<p>If you&#39;re coming from a Web developer perspective, the history system is essentially an emulation of the Browser history for your story, with the addition that local variables are saved and restored, too, when you load from storage. Passages are the engines routing system, because a story is essentially a single page application. That also means you can abuse the system as much as you like and theoretically render all your content dynamically yourself in one &quot;passage&quot;, or save the current Moment while going to another passage and restore it when going back, e.g. for games where the history size is normally 1 (and the last passage would have been lost).</p>
<a id="md:service-worker" class="tsd-anchor"></a><h4><a href="#md:service-worker">Service Worker</a></h4><p>A simple service worker template is included in the <code>service.ts</code> module. It works together with hte <code>Updater</code> to check for story updates and provides offline capability.<br>For that to work you have to include a <code>config.json</code> file in the directory of the output HTML file, as well as the <code>service.js</code> file built from the service.<br>The <code>version</code> field is a number and should start at 0. Each time you make a new release, you&#39;ll have to increment it to make the service worker pick up on the update.<br>The <code>cacheFiles</code> field contains the paths of files to cache relative to the <code>config.json</code>. You have to add all your build outputs, so they&#39;ll be available offline.</p>
<a id="md:saves" class="tsd-anchor"></a><h4><a href="#md:saves">Saves</a></h4><p>There are currently 2 save locations:</p>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/sessionStorage">Session Storage</a>: A temporary save is placed here after every history change, so that reloading the page doesn&#39;t lose progress.</li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/IndexedDB_API">IndexedDB</a>: Here are the persistent save slots starting at 0, and the autosave slot with number -1.</li>
</ul>
<a id="md:ui" class="tsd-anchor"></a><h2><a href="#md:ui">UI</a></h2><p>There is currently no auto-generated documentation for the Svelte components, so you&#39;ll have to look at the component source for the doc comments.<br>Some components like the sidebar export variables from the module via a <code>context=&quot;module&quot;</code> script tag, those variables can be imported like normal.<br>Exports in the main script tag are props you have to give to the component.</p>
<a id="md:fonts" class="tsd-anchor"></a><h2><a href="#md:fonts">Fonts</a></h2><p>A default font for consistency is included and can be used by including <code>default-font.scss</code>. In addition you&#39;ll have to copy the <code>fonts</code> folder to the HTML output, the the stylesheet can find the fonts.</p>
<p>More fonts to choose may be available in the future.</p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-index-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><h4 class="uppercase">Member Visibility</h4><form><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></form></div><div class="tsd-theme-toggle"><h4 class="uppercase">Theme</h4><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-index-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#md:if-framework"><span>IF <wbr/>Framework</span></a><ul><li><a href="#md:roadmap"><span>Roadmap</span></a></li><li><a href="#md:tutorial"><span>Tutorial</span></a></li><li><a href="#md:concepts"><span>Concepts</span></a></li><li><ul><li><a href="#md:choice-based"><span>Choice-<wbr/>Based</span></a></li><li><ul><li><a href="#md:passages-and-history"><span>Passages and <wbr/>History</span></a></li><li><a href="#md:service-worker"><span>Service <wbr/>Worker</span></a></li><li><a href="#md:saves"><span>Saves</span></a></li></ul></li></ul></li><li><a href="#md:ui"><span>UI</span></a></li><li><a href="#md:fonts"><span>Fonts</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html" class="current"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-1"></use></svg><span>@if-framework/framework</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base="."><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>